<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <!-- Viewport -->
    <meta name="viewport" content="width=device-width, minimum-scale = 1.0, initial-scale = 1.0, maximum-scale = 5.0, user-scalable=yes, shrink-to-fit=no">
    <!--<link rel="serviceworker" href="serviceworker.js">-->
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="css/styles.css">
    <title>Brush your teeth!</title>
    
</head>
<body>      
    <main>
        <header class="row">
            <h1>Brush your teeth</h1>
        </header>
        <div class="controls">
            <button onclick="restart()">Restart</button>
            <button id="playpause" onclick="playPause()">Play</button>
            <button id="audio" onclick="playAudio()">Call the child</button>
        </div>
        <section>
        <div class="player">
            <video id="toothbrush" width="320" height="240" poster="images/poster.png">
                <source src="brushy-brush.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
        <div>
            <audio id="gettoothbrush">
                    <source src="get-your-toothbrush.mp3" type="audio/mpeg">
                    Your browser does not support the audio element.
            </audio>
        </div>
    </section>
    <section>
        <div class="row">
        <h2>About</h2>
        <p>This is a prototype <abbr title="Progressive Web App">PWA</abbr> to help my daughter brush her teeth and for me to learn more about PWAs. You can see the original video that's used in this on the <a href="https://www.youtube.com/watch?v=wxMrtK-kYnE" target="_blank">Sesame Street YouTube channel</a>.  
        </div>
    </section>
</main> 
    <script>
        // Starts the video 5 seconds in to skip the "Time to get your toothbrush!" CTA
        document.getElementById('toothbrush').addEventListener('loadedmetadata', function () {
                this.currentTime = 5;
            }, false);
    </script>
   <script>
    if (navigator.serviceWorker) {
        navigator.serviceWorker.register('serviceworker.js')
        .then( function(registration) {
            console.log('Success!', registration.scope);
        })
        .catch(function(error) {
            console.log('Failure!', error);
        })
        console.log('All done.');
    }
    </script>
    <script src="js/script.js" type="text/javascript"></script>
</body>
</html>